<!DOCTYPE html>
<html lang="en" ng-app="myApp">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Movielens Recommender</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
        crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.6.6/angular.min.js">
    </script>
    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBsYlyaSxaw5uCleQuibqpSfnPXbTauXt8" type="text/javascript"></script>
    <script src="angular-google-maps.min.js?v=1.2.2"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.6.6/angular-route.js"></script>
    <script src="./app.js"></script>
    <script src="./controllers/mainController.js"></script>
    <script src="./controllers/userInfoController.js"></script>
    <script src="./controllers/configController.js"></script>
    <script src="./custService.js"></script>
    <script src="./controllers/recommenderController.js"></script>
    <script src="./controllers/perfilController.js"></script>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u"
        crossorigin="anonymous">
</head>

<body ng-controller="mainController">
    <nav class="navbar navbar-inverse">
        <div class="container-fluid">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <a class="navbar-brand" href="#">Yelp Recommender</a>
            </div>
            <div class="collapse navbar-collapse" id="myNavbar">
                <ul class="nav navbar-nav">
                </ul>
            </div>
        </div>
    </nav>
    <!--Agrega lo del ngmodel al scope-->

    <div class="container" ng-controller="userInfoController">
        <div class="row">
            <div class="col-md-5 col-md-offset-1">
                <div class="row">
                    <p class="col-md-6">Seleccione la ciudad</p>
                </div>
                <div class="row">
                    <p class="col-md-6">Seleccione el usuario activo</p>
                </div>
                <div class="row form-group">
                    <select class="col-md-4 form-control" name="singleSelect" id="singleSelect" ng-model="selectedUser" ng-change="getUserinfo()">
                        <option value="">--Please select an user--</option>
                        <option ng-repeat="user in users" value="{{user.id}}">{{user.nombre}}</option>
                    </select>
                    <hr>
                </div>
                <hr>
            </div>

            <div class="col-md-5" ng-controller="configController">
                <input type="date" name="bday">
                <div class="row">
                    <button class="btn btn-default col-md-12" ng-click="saveConfig()">Corrrer Fecha</button>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="post col-md-5 col-md-offset-1" ng-repeat="review in user.reviews">
                <div class="row">
                    <div class="buttonDiv">
                        <p>
                            <span>{{review.negocio}}</span> -
                            <span>{{review.estrellas}}</span> -
                            <span>{{review.fecha}}</span>
                        </p>
                    </div>
                </div>
                <div class="row">
                    <div class="post-text">{{review.texto}}</div>
                </div>
            </div>
        </div>
    </div>

    <div class="container" ng-controller="recommenderController">
        <div class="row">
            <button class="col-sm-12 btn btn-primary" ng-click="get()">Pedir recomendación</button>
        </div>

        <div ng-show="search">
            <div id="map">
                <div id="class" ng-repeat="marker in markers | orderBy : 'title'">
                    <a href="#" ng-click="openInfoWindow($event, marker)">{{marker.title}}</a>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-12" ng-repeat="negocio in negocios">
                    <div class="row">
                        <table class="table table-bordered table-hover col-md-4">
                            <thead>
                                <tr>
                                    <td>{{negocio.name}}</td>
                                    <td>{{negocio.address}}</td>
                                    <td>Tiene {{negocio.stars}} estrellas</td>
                                    <td>Para ti será un {{negocio.ranking}}</td>
                                </tr>
                            </thead>
                        </table>
                        <table class="table table-bordered table-hover col-md-4">
                            <tr>
                                <td>Lunes</td>
                                <td>{{negocio.hours.Monday}}</td>
                            </tr>
                            <tr>
                                <td>Martes</td>
                                <td>{{negocio.hours.Tuesday}}</td>
                            </tr>
                            <tr>
                                <td>Miécoles</td>
                                <td>{{negocio.hours.Wednesday}}</td>
                            </tr>
                            <tr>
                                <td>Jueves</td>
                                <td>{{negocio.hours.Thursday}}</td>
                            </tr>
                            <tr>
                                <td>Viernes</td>
                                <td>{{negocio.hours.Friday}}</td>
                            </tr>
                            <tr>
                                <td>Sábado</td>
                                <td>{{negocio.hours.Saturday}}</td>
                            </tr>
                            <tr>
                                <td>Domingo</td>
                                <td>{{negocio.hours.Sunday}}</td>
                            </tr>
                        </table>
                    </div>
                    <!--tips-->
                    <div class="row">
                        <!--pos-->
                        <div class="col-md-5 col-md-offset-1">
                            <div class="pos tip col-md-12" ng-repeat="pos in negocio.poses">
                                <div class="row">
                                    <div class="tip-text">{{pos.tips}}</div>
                                </div>
                            </div>
                        </div>
                        <!--neg-->
                        <div class="col-md-5">
                            <div class="neg tip col-md-12" ng-repeat="neg in negocio.negs">
                                <div class="row">
                                    <div class="tip-text">{{neg.tips}}</div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                </div>
            </div>
        </div>
    </div>

    <footer class="container-fluid">
        <div class="row">
            <p id="copy">© 2017 Jairo Bautista Mora, Anamaria Mojica Hanke, Fabia Peña Lozano</p>
        </div>
    </footer>




    <script src="./script.js"></script>
</body>

</html>